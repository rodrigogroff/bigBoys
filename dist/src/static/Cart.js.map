{"version":3,"sources":["webpack://nano/./src/static/js/Database/MenuItens.js","webpack://nano/./src/static/js/Components/Menu.js","webpack://nano/./src/static/js/Components/Footer.js","webpack://nano/./src/static/js/Components/UserLogin.js","webpack://nano/./src/static/js/Components/Loader.js","webpack://nano/./src/static/js/Components/PortalTitle.js","webpack://nano/./src/static/js/pages/Cart/Views/ViewCart.js","webpack://nano/./src/static/js/Infra/Util.js","webpack://nano/./src/static/js/pages/Cart/CtrlCart.js","webpack://nano/./src/static/js/pages/Cart/router.js"],"names":["items","label","link","subs","menuItems","MenuItens","liItem","fullMenu","a","length","m","b","m2","userName","localStorage","getItem","document","getElementById","innerHTML","undefined","textContent","PortalTitle","UserLogin","Menu","Footer","Loader","postTokenPortal","location","_obj","ApiLocation","srvTag","_idx","sessionStorage","indexPos","parseInt","lstNodes","api_host","api_port","setItem","getLocation","obj","JSON","stringify","Promise","resolve","reject","fetch","method","headers","Authorization","body","then","res","status","json","data","ok","msg","message","payload","errorMsg","unauthorized","buildErrorMsg","params","this","addEventListener","e","target","id","style","productId","attributes","value","cartId","resp","setTimeout","window","href","gmap","display","ViewCart","saleStage","html_cart","i","cart","c","tipo","productOption","price","total","txt_location","event","key","src","AppRouter","url","newState","route_values","split","Controller","getHtml","router","pathname","matches","preventDefault","history","pushState"],"mappings":"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","file":"/src/static/Cart.js","sourcesContent":["\r\nexport default class {\r\n\r\n  static getAll() {\r\n\r\n    return {\r\n      items: [\r\n        {\r\n          label: 'Site',\r\n          link: '',\r\n          subs: [\r\n            {\r\n              label: 'Login',\r\n              link: '/login',\r\n            },\r\n            {\r\n              label: 'Registrar-se',\r\n              link: '/register',\r\n            },\r\n            {\r\n              label: 'Carrinho',\r\n              link: '/cart',\r\n            },\r\n            {\r\n              label: 'Meus pedidos',\r\n              link: '/production',\r\n            },\r\n            {\r\n              label: 'Preferidos',\r\n              link: '/catalog_user',\r\n            },\r\n            {\r\n              label: 'Dúvidas',\r\n              link: '/faq',\r\n            },\r\n            {\r\n              label: 'Sair',\r\n              link: '/logout',\r\n            },\r\n          ]\r\n        },\r\n        {\r\n          label: 'Quadros',\r\n          link: '/catalog_poster',\r\n          subs: []\r\n        },\r\n        {\r\n          label: 'Miniaturas',\r\n          link: '/catalog',\r\n          subs: []\r\n        },\r\n      ],\r\n    };\r\n  }\r\n}","\r\nimport MenuItens from \"@app/Database/MenuItens\";\r\n\r\nexport default class {\r\n\r\n  static getHtml() {\r\n\r\n    var menuItems = MenuItens.getAll();\r\n\r\n    var liItem = 1350;\r\n    var fullMenu = '<div class=\"menu-main-container2\"><ul id=\"main_menu2\" class=\"nav2 navbar2-nav2 group2 navbar2-collapse collapse2\">';\r\n    for (let a = 0; a < menuItems.items.length; ++a) {\r\n      liItem++;\r\n      var m = menuItems.items[a];\r\n      fullMenu += '<li id=\"menu-item-' + liItem + '\" class=\"menu-item2 menu-item-type-post_type2 menu-item-object-page2 menu-item-has-children2 menu-item-' + liItem + '\" style=\"margin-right:20px\">'\r\n      fullMenu += '<a href=\"' + m.link + '\">' + m.label + '</a>'\r\n      if (m.subs.length > 0) {\r\n        fullMenu += '<ul class=\"sub-menu\">'\r\n        for (let b = 0; b < m.subs.length; ++b) {\r\n          var m2 = m.subs[b]\r\n          liItem++;\r\n          fullMenu += '<li id=\"menu-item-\"' + liItem + ' class=\"menu-item2 menu-item-type-post_type2 menu-item-object-page2 menu-item-' + liItem + '\" style=\"margin-right:20px\">'\r\n          fullMenu += '<a style=\"color:white\" href=\"' + m2.link + '\">' + m2.label + '</a>'\r\n          fullMenu += '</li>'\r\n        }\r\n        fullMenu += '</ul>'\r\n      }\r\n      fullMenu += '</li>'\r\n    }\r\n    fullMenu += '</ul></div><div class=\"clear\"></div><div id=\"magic-line\"></div><div class=\"clear\"></div>';\r\n    return fullMenu;\r\n  }\r\n}\r\n","\r\nexport default class {\r\n\r\n\tstatic getHtml() {\r\n\r\n\t\treturn `<div class=\"container\">\r\n\t\t\t\t<div align='center'>\r\n\t\t\t\t\t<br><br><br>\r\n\t\t\t\t\t<h4></h4>\r\n\t\t\t\t\t<br><br><br>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br>\r\n\t\t\t\t<br>\r\n\t\t\t\t<div align=\"center\">\r\n\t\t\t\t\t<img src=\"src/static/img/logo.png\" alt=\"logo\" width=\"221px\" height=\"80px\"  />\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<img src=\"src/static/img/logo_2.png\" alt=\"logo\"width=\"373px\" height=\"55px\" />\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<br>\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<br>\r\n\t\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t<link rel=\"stylesheet\" href=\"https://cdn.positus.global/production/resources/robbu/whatsapp-button/whatsapp-button.css\">\r\n\t\t\t<a id=\"robbu-whatsapp-button\" target=\"_blank\" href=\"https://api.whatsapp.com/send?phone=5551995152432&text=Big%20Boys%20Store - Dúvidas\">\r\n\t\t\t<div class=\"rwb-tooltip\" style='color:white'>Dúvidas?</div>\r\n\t\t\t<img src=\"https://cdn.positus.global/production/resources/robbu/whatsapp-button/whatsapp-icon.svg\">\r\n\t\t\t</a>\r\n\t\t\t<br>            \r\n            <br>    \r\n            `\r\n\t}\r\n}\r\n","\r\nexport default class {\r\n\r\n  static getHtml() {\r\n\r\n    var userName = localStorage.getItem(\"userName\")\r\n\r\n    if (userName != \"null\" && userName != undefined)\r\n      document.getElementById('myAppUserLogin').innerHTML = `Bem-vindo, <strong><a href='/cart' style='color:white'> ${userName} </a></strong><br>`\r\n    else\r\n      document.getElementById('myAppUserLogin').innerHTML = `Clique <strong><a href='/login' style='color:white'> aqui </a></strong> para fazer login<br>`\r\n\r\n    return ``\r\n  }\r\n}\r\n","\r\nexport default class {\r\n\r\n  static getHtml() {\r\n\r\n    return `<span class=\"loadingio-spinner-spinner-4rb4hgyrsge\" id='loading' style=\"display: none\">\r\n                <div class=\"ldio-k0jb5gkv3kn\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\r\n                </div></span>`\r\n  }\r\n}\r\n","\r\nexport default class {\r\n\r\n    static getHtml() {\r\n        document.getElementById('portal_title').textContent = \"Big Boys - Colecionáveis\";\r\n        return \"\";\r\n    }\r\n}\r\n","\r\nimport Menu from \"@app/Components/Menu\";\r\nimport Footer from \"@app/Components/Footer\";\r\nimport UserLogin from \"@app/Components/UserLogin\";\r\nimport Loader from \"@app/Components/Loader\";\r\nimport PortalTitle from \"@app/Components/PortalTitle\";\r\n\r\nexport default class {\r\n  static getHtml() {\r\n\r\n    PortalTitle.getHtml();\r\n    UserLogin.getHtml();\r\n\r\n    document.getElementById('myAppMenu').innerHTML = Menu.getHtml()\r\n    document.getElementById('myAppFooter').innerHTML = Footer.getHtml()\r\n    document.getElementById('myAppLoader').innerHTML = Loader.getHtml()\r\n\r\n    return '';\r\n  }\r\n}\r\n","\r\nexport function getLocation() {\r\n  var srvTag = '__API_indexPos';\r\n  var _idx = sessionStorage.getItem(srvTag);\r\n  if (_idx == null) _idx = 0;\r\n  var indexPos = parseInt(_idx);\r\n\r\n  var lstNodes = [\r\n    { api_host: \"http://localhost\", api_port: 18524 },\r\n  ];\r\n\r\n  //console.log (lstNodes);\r\n\r\n  indexPos++;\r\n  if (indexPos >= lstNodes.length) indexPos = 0;\r\n  sessionStorage.setItem(srvTag, indexPos)\r\n  return lstNodes[indexPos];\r\n}\r\n\r\nexport function SetLanguageHTMLSelect() {\r\n  $(\"#languageSel\").val(parseInt(localStorage.getItem(\"appLanguage\")) + 1);\r\n}\r\n\r\nexport function getFromStorage(tag) {\r\n  return localStorage.getItem(tag);\r\n}\r\n\r\nexport function setToStorage(tag, val) {\r\n  localStorage.setItem(tag, val);\r\n}\r\n\r\nexport function mobileCheck() {\r\n  return window.innerWidth < 900\r\n}\r\n\r\nexport function CheckPopUpCloseClick(e) {\r\n  if ($(e.target.parentElement)[0].id == \"popupClose\") {\r\n    fadeOut($(\"#popUpSystem\")[0], 120);\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function IsLoading() {\r\n  return $(\"#loading\")[0].style.display != \"none\";\r\n}\r\n\r\nexport function fadeIn(elem, ms) {\r\n  if (!elem) return;\r\n  if (elem.style == undefined) elem.style = {};\r\n\r\n  elem.style.opacity = 0;\r\n  elem.style.filter = \"alpha(opacity=0)\";\r\n  elem.style.display = \"inline-block\";\r\n  elem.style.visibility = \"visible\";\r\n\r\n  if (ms) {\r\n    var opacity = 0;\r\n    var timer = setInterval(function () {\r\n      opacity += 50 / ms;\r\n      if (opacity >= 1) {\r\n        clearInterval(timer);\r\n        opacity = 1;\r\n      }\r\n      elem.style.opacity = opacity;\r\n      elem.style.filter = \"alpha(opacity=\" + opacity * 100 + \")\";\r\n    }, 50);\r\n  } else {\r\n    elem.style.opacity = 1;\r\n    elem.style.filter = \"alpha(opacity=1)\";\r\n  }\r\n}\r\n\r\nexport function fadeOut(elem, ms) {\r\n  if (!elem) return;\r\n  if (elem.style == undefined) elem.style = {};\r\n\r\n  if (ms) {\r\n    var opacity = 1;\r\n    var timer = setInterval(function () {\r\n      opacity -= 50 / ms;\r\n      if (opacity <= 0) {\r\n        clearInterval(timer);\r\n        opacity = 0;\r\n        elem.style.display = \"none\";\r\n        elem.style.visibility = \"hidden\";\r\n      }\r\n      elem.style.opacity = opacity;\r\n      elem.style.filter = \"alpha(opacity=\" + opacity * 100 + \")\";\r\n    }, 50);\r\n  } else {\r\n    elem.style.opacity = 0;\r\n    elem.style.filter = \"alpha(opacity=0)\";\r\n    elem.style.display = \"none\";\r\n    elem.style.visibility = \"hidden\";\r\n  }\r\n}\r\n\r\nexport function slideUp(element, duration, finalheight) {\r\n  if (element.style == undefined) element.style = {};\r\n  var s = element.style;\r\n  s.height = \"0px\";\r\n  var y = 0;\r\n  var framerate = 10;\r\n  var one_second = 1000;\r\n  var interval = (one_second * duration) / framerate;\r\n  var totalframes = (one_second * duration) / interval;\r\n  var heightincrement = finalheight / totalframes;\r\n  var tweenUp = function () {\r\n    y -= heightincrement;\r\n    s.height = y + \"px\";\r\n    if (y < 0) {\r\n      setTimeout(tweenUp, interval);\r\n    }\r\n  };\r\n  tweenUp();\r\n}\r\n\r\nexport function slideDown(element, duration, finalheight) {\r\n  if (element.style == undefined) element.style = {};\r\n  var s = element.style;\r\n  s.height = \"0px\";\r\n  var y = 0;\r\n  var framerate = 10;\r\n  var one_second = 1000;\r\n  var interval = (one_second * duration) / framerate;\r\n  var totalframes = (one_second * duration) / interval;\r\n  var heightincrement = finalheight / totalframes;\r\n  var tweenDown = function () {\r\n    y += heightincrement;\r\n    s.height = y + \"px\";\r\n    if (y < finalheight) {\r\n      setTimeout(tweenDown, interval);\r\n    }\r\n  };\r\n  tweenDown();\r\n}\r\n\r\nexport function loadingOn(btn) {\r\n  $(\"#loading\").show();\r\n  if (btn != undefined) {\r\n    $(btn).removeClass(\"green\");\r\n    $(btn).addClass(\"light\");\r\n    sessionStorage.setItem(\"myBtn\", btn);\r\n  }\r\n}\r\n\r\nexport function loadingOff(btn) {\r\n  $(\"#loading\").hide();\r\n  if (btn != undefined) $(btn).addClass(\"green\");\r\n}\r\n\r\nexport function displaySystemSuccess(_title, _text) {\r\n  $(\"#popupSymbol\").removeClass(\"fa-exclamation-circle\");\r\n  $(\"#popupSymbol\").addClass(\"fa-check-circle\");\r\n  document.getElementById(\"popupSymbol\").style.color = \"green\";\r\n  displaySystemPopup(_title, _text);\r\n}\r\n\r\nexport function displaySystemPopup(_title, _text) {\r\n  var btn = sessionStorage.getItem(\"myBtn\");\r\n  $(\"#loading\").hide();\r\n  if (btn != undefined) $(btn).addClass(\"green\");\r\n  fadeIn($(\"#popUpSystem\")[0], 60);\r\n  $(\"#popUpSystemTitle\").text(_title);\r\n  $(\"#popUpSystemText\").text(_text);\r\n}\r\n\r\nexport function displaySystemPopupConfirm(mdlID, _title, _text) {\r\n  fadeIn($(\"#popUpSystemConfirm_\" + mdlID)[0], 60);\r\n  $(\"#popUpSystemConfTitle\").text(_title);\r\n  $(\"#popUpSystemConfText\").text(_text);\r\n}\r\n\r\nexport function imageChange(id, img) {\r\n  $(id).attr(\"src\", \"src/static/img/\" + img);\r\n}\r\n\r\nexport function updateHTML(idElement, html) {\r\n  $(\"#\" + idElement).html(html);\r\n}\r\n\r\nexport function disableButton(btn) {\r\n  $(btn).prop(\"disabled\", true);\r\n}\r\n\r\nexport function enableButton(btn) {\r\n  $(btn).prop(\"disabled\", false);\r\n}\r\n\r\nexport function getFromSession(tag) {\r\n  return sessionStorage.getItem(tag);\r\n}\r\n\r\nexport function setToSession(tag, val) {\r\n  sessionStorage.setItem(tag, val);\r\n}\r\n\r\nexport function mockServer(val) {\r\n  sessionStorage.setItem(\"mockServer\", val);\r\n}\r\n\r\nexport function isFieldContentValid(val, maxLength, fieldType, minlength) {\r\n  if (fieldType == undefined) fieldType = \"text\";\r\n  if (maxLength == undefined) maxLength = 20;\r\n  if (minlength == undefined) minlength = 4;\r\n  if (fieldType == \"email\") maxLength = 99;\r\n\r\n  if (val === null) return false;\r\n  if (val === undefined) return false;\r\n  if (val === \"\") return false;\r\n\r\n  var len = val.trim().length;\r\n\r\n  if (len === 0) return false;\r\n  if (len > maxLength) return false;\r\n  if (len < minlength) return false;\r\n\r\n  switch (fieldType) {\r\n    case \"number\":\r\n      if (!/^\\d*\\.?\\d*$/.test(String(val).toLowerCase())) return false;\r\n      break;\r\n    case \"email\":\r\n      const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      if (!re.test(String(val).toLowerCase())) return false;\r\n      break;\r\n    case \"name\":\r\n      if (len.length < 3) return false;\r\n      var reN = /^\\d$/;\r\n      for (let i = 0; i < val.length; i++) {\r\n        let c = val[i];\r\n        if (reN.test(c)) return false;\r\n      }\r\n      break;\r\n    case \"fullName\":\r\n      if (val.trim().indexOf(\" \") < 0) return false;\r\n      const ren = \"'!@#$%¨&*()-_+=,.;/<>:?`´^~{[]}\";\r\n      for (let i = 0; i < val.length; ++i)\r\n        for (let t = 0; t < ren.length; ++t) if (val[i] == ren[t]) return false;\r\n      break;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function logout() {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"email\");\r\n  localStorage.removeItem(\"user_name\");\r\n}\r\n\r\nexport function loginOk(resp) {\r\n  localStorage.setItem(\"token\", resp.token);\r\n  localStorage.setItem(\"email\", resp.user.email);\r\n  localStorage.setItem(\"nome\", resp.user.nome);\r\n}\r\n\r\nexport function isAuthenticated() {\r\n  var ret = localStorage.getItem(\"token\");\r\n  if (ret == null || ret == undefined)\r\n    return null;\r\n  var ret = {\r\n    email: localStorage.getItem(\"email\"),\r\n    nome: localStorage.getItem(\"nome\"),\r\n  };\r\n  return ret;\r\n}\r\n\r\nexport function getTokenPortal(location, parameters) {\r\n  var ApiLocation = getLocation();\r\n  var ret = new Promise((resolve, reject) => {\r\n    var _params = \"\";\r\n    if (parameters !== null) _params = \"?\" + parameters;\r\n    fetch(\r\n      ApiLocation.api_host +\r\n      \":\" +\r\n      ApiLocation.api_port +\r\n      \"/api/\" +\r\n      location +\r\n      _params,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n        },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.status === 400) {\r\n          res.json().then((data) => {\r\n            reject({\r\n              ok: false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n        } else if (res.ok === true) {\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: true,\r\n              payload: data,\r\n            });\r\n          });\r\n        } else\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: false,\r\n              unauthorized: res.status == 401 ? true : false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n      })\r\n      .catch((errorMsg) => {\r\n        resolve({\r\n          ok: false,\r\n          msg: errorMsg.message,\r\n        });\r\n      });\r\n  });\r\n}\r\n\r\nexport function postTokenPortal(location, _obj) {\r\n  var ApiLocation = getLocation();\r\n  var obj = JSON.stringify(_obj);\r\n  return new Promise((resolve, reject) => {\r\n    fetch(\r\n      ApiLocation.api_host + \":\" + ApiLocation.api_port + \"/api/\" + location,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Access-Control-Allow-Origin\": \"*\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n        },\r\n        body: obj,\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.status === 400) {\r\n          res.json().then((data) => {\r\n            reject({\r\n              ok: false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n        } else if (res.ok === true) {\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: true,\r\n              payload: data,\r\n            });\r\n          });\r\n        } else\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n      })\r\n      .catch((errorMsg) => {\r\n        resolve({\r\n          ok: false,\r\n          unauthorized: true,\r\n        });\r\n      });\r\n  });\r\n}\r\n\r\nexport async function postPublicPortalAsync(location, _obj) {\r\n  var ApiLocation = getLocation();\r\n  var obj = JSON.stringify(_obj);\r\n  return new Promise((resolve, reject) => {\r\n    fetch(\r\n      ApiLocation.api_host + \":\" + ApiLocation.api_port + \"/api/\" + location,\r\n      {\r\n        method: \"POST\",\r\n        headers:\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        },\r\n        body: obj,\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.status === 400) {\r\n          res.json().then((data) => {\r\n            reject({\r\n              ok: false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n        }\r\n        else if (res.ok === true) {\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: true,\r\n              payload: data,\r\n            });\r\n          });\r\n        } else {\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: false,\r\n              unauthorized: res.status == 401 ? true : false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch((errorMsg) => {\r\n        reject({\r\n          ok: false,\r\n          msg: \"Ops, aconteceu um erro!\",\r\n        });\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport function postPublicPortal(location, _obj) {\r\n  var ApiLocation = getLocation();\r\n  var obj = JSON.stringify(_obj);\r\n  return new Promise((resolve, reject) => {\r\n    fetch(\r\n      ApiLocation.api_host + \":\" + ApiLocation.api_port + \"/api/\" + location,\r\n      {\r\n        method: \"POST\",\r\n        headers:\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        },\r\n        body: obj,\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.status === 400) {\r\n          res.json().then((data) => {\r\n            reject({\r\n              ok: false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n        }\r\n        else if (res.ok === true) {\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: true,\r\n              payload: data,\r\n            });\r\n          });\r\n        } else {\r\n          res.json().then((data) => {\r\n            resolve({\r\n              ok: false,\r\n              unauthorized: res.status == 401 ? true : false,\r\n              msg: data.message,\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch((errorMsg) => {\r\n        reject({\r\n          ok: false,\r\n          msg: \"Ops, aconteceu um erro!\",\r\n        });\r\n      });\r\n  });\r\n}\r\n\r\nexport function buildTableSimple(tableobj) {\r\n\r\n  var color = 'black';\r\n  var bgColor = 'white';\r\n  var styleClass = '';\r\n  var noResultMsg = '';\r\n\r\n  if (styleClass == undefined) styleClass = '';\r\n  if (noResultMsg == undefined) noResultMsg = \"No results found\";\r\n  var lineData = \"\";\r\n  if (tableobj.data.length > 0) {\r\n    var size = tableobj.header.length;\r\n    var lineData =\r\n      \"<table class='\" +\r\n      styleClass +\r\n      \"' id='\" +\r\n      tableobj.id +\r\n      \"'><thead style='background-color:\" +\r\n      bgColor +\r\n      \"';'> <tr>\";\r\n    for (var h = 0; h < size; ++h)\r\n      lineData +=\r\n        \"<th style='color:\" +\r\n        color +\r\n        \"' width='\" +\r\n        tableobj.sizes[h] +\r\n        \"'>\" +\r\n        tableobj.header[h] +\r\n        \"</th > \";\r\n    lineData += \"</tr></thead><tbody>\";\r\n    for (var d = 0; d < tableobj.data.length; ++d) {\r\n      var ar = tableobj.data[d];\r\n      lineData += \"<tr>\";\r\n      for (var h = 0; h < size; ++h)\r\n        lineData +=\r\n          \"<td id='\" +\r\n          d +\r\n          \"' _par_table='\" +\r\n          tableobj.id +\r\n          \"'>\" +\r\n          ar[h] +\r\n          \"</td>\";\r\n      lineData += \"</tr>\";\r\n    }\r\n    lineData += \"</tbody></table>\";\r\n  } else {\r\n    lineData =\r\n      \"<br><button class='button circle'>\" + noResultMsg + \"</button><br>\";\r\n  }\r\n\r\n  return lineData;\r\n}\r\n\r\nexport function buildErrorMsg(msg) {\r\n  if (msg == undefined)\r\n    msg = \"Area restrita!<br><br>Favor logar-se no sistema <a href='/login' style='color:blue' >aqui</a>\";\r\n  return `\r\n  <div id=\"myModal\" class=\"modal\" style='display:block'>\r\n    <div style='margin: 15% auto' align='center'>\r\n      <div style='background-color:white;width:400px;color:black'>\r\n        <div style='background-color:red;width:400px' align='center'>\r\n          <table style='width:380px'>\r\n            <tr>\r\n              <td><h3 style='color:white;margin-top:2px;margin-bottom:2px;'> Aviso do sistema</h3></td>\r\n              <td width='140px'> </td>\r\n              <td align='right'> &nbsp;&nbsp;&nbsp;<h3 class=\"close\" style='margin-top:2px;' onclick=\"document.getElementById('myModal').style.display = 'none'\">&times;</h3></td>\r\n            </tr>\r\n          </table>    \r\n        </div>  \r\n        <br><br>\r\n        <h4 style='color:black;margin-left:24px;margin-right:24px;'>${msg}</h4><br>\r\n        <br>\r\n        <br>\r\n        <br>\r\n      </div>  \r\n    </div>\r\n  </div>`\r\n}\r\n\r\nexport function buildTable(tableobj, color, bgColor, styleClass, noResultMsg) {\r\n  if (styleClass == undefined) styleClass = '';\r\n  if (noResultMsg == undefined) noResultMsg = \"No results found\";\r\n  var lineData = \"\";\r\n  if (tableobj.data.length > 0) {\r\n    var size = tableobj.header.length;\r\n    var lineData =\r\n      \"<table class='\" +\r\n      styleClass +\r\n      \"' id='\" +\r\n      tableobj.id +\r\n      \"'><thead style='background-color:\" +\r\n      bgColor +\r\n      \"';'> <tr>\";\r\n    for (var h = 0; h < size; ++h)\r\n      lineData +=\r\n        \"<th style='color:\" +\r\n        color +\r\n        \"' width='\" +\r\n        tableobj.sizes[h] +\r\n        \"'>\" +\r\n        tableobj.header[h] +\r\n        \"</th > \";\r\n    lineData += \"</tr></thead><tbody>\";\r\n    for (var d = 0; d < tableobj.data.length; ++d) {\r\n      var ar = tableobj.data[d];\r\n      lineData += \"<tr>\";\r\n      for (var h = 0; h < size; ++h)\r\n        lineData +=\r\n          \"<td id='\" +\r\n          d +\r\n          \"' _par_table='\" +\r\n          tableobj.id +\r\n          \"'>\" +\r\n          ar[h] +\r\n          \"</td>\";\r\n      lineData += \"</tr>\";\r\n    }\r\n    lineData += \"</tbody></table>\";\r\n  } else {\r\n    lineData =\r\n      \"<br><button class='button circle'>\" + noResultMsg + \"</button><br>\";\r\n  }\r\n  return lineData;\r\n}\r\n","\r\nimport ViewCart from \"./Views/ViewCart\";\r\nimport { postTokenPortal, buildErrorMsg } from \"@app/Infra/Util\"\r\n\r\nexport default class {\r\n  constructor(params) {\r\n    this.params = params;\r\n    document.body.addEventListener(\"click\", (e) => {\r\n      switch (e.target.id) {\r\n\r\n        case \"cancelar_item\":\r\n\r\n          e.target.style = 'background-color:black;pointer-events:none;'\r\n\r\n          postTokenPortal(\"v1/sale/cart_remove\", {\r\n            productId: e.target.attributes[2].value,\r\n            cartId: e.target.attributes[3].value\r\n          })\r\n            .then((resp) => {\r\n              var redir_cart = function () {\r\n                window.location.href = '/cart';\r\n              }\r\n              setTimeout(redir_cart, 500);\r\n            })\r\n            .catch((resp) => {\r\n              e.target.style = 'background-color:red;pointer-events:all;'\r\n            })\r\n          break;\r\n\r\n        case \"confirm_register\":\r\n\r\n          e.target.style = 'background-color:black;pointer-events:none;'\r\n\r\n          postTokenPortal(\"v1/sale/register\", {})\r\n            .then((resp) => {\r\n              window.location.href = '/cart';\r\n            });\r\n          break;\r\n\r\n        case \"confirm_gmap\":\r\n\r\n          e.target.style = 'background-color:black;pointer-events:none;'\r\n\r\n          var txt_location = document.getElementById('location');\r\n          postTokenPortal(\"v1/sale/confirm_sale\", { gmap: txt_location.value })\r\n            .then((resp) => {\r\n              window.location.href = '/cart';\r\n            })\r\n            .catch((resp) => {\r\n              e.target.style = 'background-color:red;pointer-events:all;'\r\n            })\r\n          break;\r\n\r\n        case \"cancel_cart\":\r\n\r\n          e.target.style = 'background-color:black;pointer-events:none;'\r\n\r\n          postTokenPortal(\"v1/sale/cancel_cart\", {})\r\n            .then((resp) => {\r\n              window.location.href = '/cart';\r\n            })\r\n            .catch((resp) => {\r\n              e.target.style = 'background-color:red;pointer-events:all;'\r\n            })\r\n          break;\r\n\r\n        case \"confirm_buy\":\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  getHtml() {\r\n    var userName = localStorage.getItem(\"userName\")\r\n    if (userName == null || userName == undefined)\r\n      document.getElementById('warningPage').style.display = 'block'\r\n    else\r\n      document.getElementById('mainPage').style.display = 'block'\r\n\r\n    ViewCart.getHtml();\r\n\r\n    document.getElementById('loading').style.display = 'block'\r\n\r\n    postTokenPortal(\"v1/sale/cart_list\", {})\r\n      .then((resp) => {\r\n        document.getElementById('loading').style.display = 'none'\r\n        if (resp.ok == true) {\r\n          // --------------------------\r\n          // somente no carrinho\r\n          // --------------------------\r\n          if (resp.payload.saleStage === 0) {\r\n            var html_cart = \"<div style='background-color: rgba(5,5,5,0.25); margin-left:4px;margin-right:4px;'><br><h3>Itens em sua sacola</h3><br>\"\r\n            html_cart += \"<table><tr><td width='120px'></td><td width='16px'></td><td width='120px'></td><td></td><td width='8px'></td><td></td></tr>\";\r\n            for (let i = 0; i < resp.payload.cart.length; i = i + 1) {\r\n              var c = resp.payload.cart[i]\r\n              var tipo = 'Quadro ';\r\n              if (parseInt(c.productOption) >= 1) {\r\n                if (c.productOption == 1)\r\n                  tipo += 'A3';\r\n                else\r\n                  tipo += 'A2';\r\n              }\r\n              else\r\n                tipo = 'Miniatura';\r\n              html_cart += `<tr height='70px'><td><a href='/item?id=${c.productId}'>\r\n                            <img src=\"src/static/products/${c.productId}/promoBig.jpg\" style='max-height:66px' /></a></td><td></td>\r\n                            <td><br>${tipo}<br>Item ${c.productId}</td>\r\n                            <td><br>R$ ${c.price}</td>\r\n                            <td></td>\r\n                            <td><p style='margin-top:20px'><div id='cancelar_item' class='button' option1='${c.productId}' option2='${c.cartId}' style='width:32px;'>X</div></p></tr>`\r\n            }\r\n            if (resp.payload.cart.length > 0) {\r\n              html_cart += \"</table>\";\r\n              html_cart += `<br><h4>TOTAL: <strong>R$ ${resp.payload.total}</strong></h4><br>`;\r\n              html_cart += `<br><div id='confirm_register' class='button' style='background-color:green''>Registrar (1/3)</div><br><br></div>`;\r\n            }\r\n            else {\r\n              html_cart += \"</table>\";\r\n              html_cart += `<br><br>Nenhum item selecionado<br><br><br><br>`;\r\n            }\r\n            document.getElementById('myAppCart').innerHTML = html_cart;\r\n          }\r\n          // ----------------------------------------------------\r\n          // registrado, aguardando local de entrega\r\n          // ----------------------------------------------------\r\n          else if (resp.payload.saleStage === 1) {\r\n            var html_cart = \"<div style='background-color: rgba(5,5,5,0.25); margin-left:4px;margin-right:4px;'><br><h3>Confirme seu local de entrega</h3><br>\"\r\n\r\n\r\n            html_cart += `<div class=\"gmap_canvas\" style=\"height:370px\">\r\n                                        <iframe\r\n                                          width=\"600\"\r\n                                          height=\"350\"\r\n                                          id=\"gmap_canvas\"\r\n                                          style=\"display: block\"\r\n                                          src=\"https://maps.google.com/maps?q=${resp.payload.gmap}&t=&z=13&ie=UTF8&iwloc=&output=embed\"\r\n                                          frameborder=\"0\"\r\n                                          scrolling=\"no\"\r\n                                          marginheight=\"0\"\r\n                                          marginwidth=\"0\"\r\n                                        ></iframe\r\n                                        ><a href=\"https://putlocker-is.org\"></a\r\n                                        ><br /><style>\r\n                                          .mapouter {\r\n                                            position: relative;\r\n                                            text-align: right;\r\n                                            height: 500px;\r\n                                            width: 600px;\r\n                                          }</style\r\n                                        ><a\r\n                                          href=\"https://www.embedgooglemap.net\"\r\n                                          >google map html code</a\r\n                                        ><style>\r\n                                          .gmap_canvas {\r\n                                            overflow: hidden;\r\n                                            background: none !important;\r\n                                            height: 500px;\r\n                                            width: 600px;\r\n                                          }\r\n                                        </style>\r\n                                      </div>`\r\n\r\n            html_cart += `<div class=\"form__group field\">\r\n                            <input\r\n                              type=\"input\"\r\n                              class=\"form__field\"\r\n                              name=\"location\"\r\n                              id=\"location\"\r\n                              required\r\n                            />\r\n                            <label for=\"location\" class=\"form__label\"\r\n                              >Novo endereço de entrega</label\r\n                            >\r\n                            <div\r\n                              id=\"validation_location\"\r\n                              class=\"button_verif\"\r\n                              style=\"display: none\"\r\n                            >\r\n                              Valor inválido\r\n                            </div>\r\n                          </div><br>`\r\n\r\n            html_cart += \"<table><tr><td width='120px'></td><td width='16px'></td><td width='120px'></td><td></td><td width='8px'></td><td></td></tr>\";\r\n\r\n            for (let i = 0; i < resp.payload.cart.length; i = i + 1) {\r\n              var c = resp.payload.cart[i]\r\n              var tipo = 'Quadro ';\r\n              if (parseInt(c.productOption) >= 1) {\r\n                if (c.productOption == 1)\r\n                  tipo += 'A3';\r\n                else\r\n                  tipo += 'A2';\r\n              }\r\n              else\r\n                tipo = 'Miniatura';\r\n              html_cart += `<tr height='70px'><td><a href='/item?id=${c.productId}'>\r\n                            <img src=\"src/static/products/${c.productId}/promoBig.jpg\" style='max-height:66px' /></a></td><td></td>\r\n                            <td><br>${tipo}<br>Item ${c.productId}</td>\r\n                            <td><br>R$ ${c.price}</td>\r\n                            <td></td>\r\n                            <td><p style='margin-top:20px'><div id='cancelar_item' class='button' option1='${c.productId}' option2='${c.cartId}' style='width:32px;'>X</div></p></tr>`\r\n            }\r\n            if (resp.payload.cart.length > 0) {\r\n              html_cart += \"</table>\";\r\n              html_cart += `<br><h4>TOTAL: <strong>R$ ${resp.payload.total}</strong></h4><br>`;\r\n              html_cart += `<br><div id='confirm_gmap' class='button' style='background-color:green''>Confirmar (2/3)</div><br><br></div>`;\r\n            }\r\n\r\n            document.getElementById('myAppCart').innerHTML = html_cart;\r\n\r\n            var add_listener = function () {\r\n              var txt_location = document.getElementById('location');\r\n\r\n              txt_location.value = resp.payload.gmap\r\n\r\n              txt_location.addEventListener(\"blur\", function (event) {\r\n                document.getElementById('validation_location').style.display = 'none'\r\n                if (this.value != '' && this.value.length > 25) { } else {\r\n                  document.getElementById('validation_location').style.display = 'block'\r\n                }\r\n              }, true);\r\n              txt_location.addEventListener(\"keyup\", function (event) {\r\n                if (event.key === \"Enter\") {\r\n                  document.getElementById('gmap_canvas').src = 'https://maps.google.com/maps?q=' + txt_location.value + '&t=&z=13&ie=UTF8&iwloc=&output=embed';\r\n                }\r\n              });\r\n            }\r\n            setTimeout(add_listener, 300);\r\n          }\r\n          // --------------------------\r\n          // confirmado endereço de entrega\r\n          // --------------------------\r\n          else if (resp.payload.saleStage === 2) {\r\n\r\n            var html_cart = \"<div style='background-color: rgba(5,5,5,0.25); margin-left:4px;margin-right:4px;'><br><h3>Pronto!</h3><br>\"\r\n            html_cart += \"<table><tr><td width='120px'></td><td width='16px'></td><td width='120px'></td><td></td><td width='8px'></td><td></td></tr>\";\r\n            for (let i = 0; i < resp.payload.cart.length; i = i + 1) {\r\n              var c = resp.payload.cart[i]\r\n              var tipo = 'Quadro ';\r\n              if (parseInt(c.productOption) >= 1) {\r\n                if (c.productOption == 1)\r\n                  tipo += 'A3';\r\n                else\r\n                  tipo += 'A2';\r\n              }\r\n              else\r\n                tipo = 'Miniatura';\r\n              html_cart += `<tr height='70px'><td><a href='/item?id=${c.productId}'>\r\n                            <img src=\"src/static/products/${c.productId}/promoBig.jpg\" style='max-height:66px' /></a></td><td></td>\r\n                            <td><br>${tipo}<br>Item ${c.productId}</td>\r\n                            <td><br>R$ ${c.price}</td>\r\n                            <td></td>\r\n                            <td><p style='margin-top:20px'><div id='cancelar_item' class='button' option1='${c.productId}' option2='${c.cartId}' style='width:32px;'>X</div></p></tr>`\r\n            }\r\n            if (resp.payload.cart.length > 0) {\r\n              html_cart += \"</table>\";\r\n              html_cart += `<br><h4>TOTAL: <strong>R$ ${resp.payload.total}</strong></h4><br>`;\r\n              html_cart += `<br><h4>Local de entrega:<br><br> <strong>${resp.payload.gmap}</strong></h4><br>`;\r\n              html_cart += `<br><div id='confirm_buy' style='background-color:green' class='button'>Pagar (3/3)</div>`;\r\n              html_cart += `<br><div id='cancel_cart' class='button'>Cancelar carrinho</div><br><br><br><br></div>`;\r\n              html_cart += '<br><br><br><br><br></div>'\r\n            }\r\n            document.getElementById('myAppCart').innerHTML = html_cart;\r\n          }\r\n        }\r\n        else {\r\n          document.getElementById('mainPageNOK').style = \"display:block\"\r\n          document.getElementById('failMsg').innerHTML = buildErrorMsg()\r\n        }\r\n      })\r\n      .catch((resp) => {\r\n        document.getElementById('loading').style.display = 'none'\r\n        document.getElementById('mainPageNOK').style = \"display:block\"\r\n        document.getElementById('failMsg').innerHTML = buildErrorMsg(resp.msg)\r\n      })\r\n\r\n    return \"\";\r\n  }\r\n}\r\n","\r\nimport Controller from \"./CtrlCart\";\r\n\r\nclass AppRouter {\r\n  constructor(url) {\r\n    this.url = url;\r\n  }\r\n\r\n  getHtml() {\r\n    var newState = this.url;\r\n    var params = { id: null };\r\n    var route_values = newState.split(\"/\");\r\n    newState = \"/\" + route_values[1];\r\n    if (route_values.length >= 2) params.id = route_values[2];\r\n    return `${new Controller(params).getHtml()}`;\r\n  }\r\n}\r\n\r\nexport default class {\r\n  constructor(params) {\r\n    this.params = params;\r\n  }\r\n  getHtml() {\r\n    return new AppRouter(this.params).getHtml();\r\n  }\r\n}\r\n\r\nconst navigateTo = (url) => {\r\n  history.pushState(null, null, url);\r\n  router();\r\n};\r\n\r\nconst router = () => {\r\n  new AppRouter(window.location.pathname).getHtml();\r\n};\r\n\r\nwindow.addEventListener(\"popstate\", router);\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  document.body.addEventListener(\"click\", (e) => {\r\n    if (e.target.matches(\"[data-link]\")) {\r\n      e.preventDefault();\r\n      navigateTo(e.target.href);\r\n    }\r\n  });\r\n  router();\r\n});\r\n"],"sourceRoot":""}