(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,a;return n=e,a=[{key:"getAll",value:function(){return{items:[{label:"Site",link:"",subs:[{label:"Login",link:"/login"},{label:"Registrar-se",link:"/register"},{label:"Minhas compras",link:"/production"},{label:"Preferidos",link:"/faq"},{label:"Dúvidas",link:"/faq"}]},{label:"Quadros",link:"/catalog_poster",subs:[]},{label:"Miniaturas",link:"/catalog",subs:[]}]}}}],null&&t(n.prototype,null),a&&t(n,a),e}();function n(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var a,l;return a=t,l=[{key:"getHtml",value:function(){for(var t=e.getAll(),n=1350,a='<div class="menu-main-container2"><ul id="main_menu2" class="nav2 navbar2-nav2 group2 navbar2-collapse collapse2">',l=0;l<t.items.length;++l){n++;var i=t.items[l];if(a+='<li id="menu-item-'+n+'" class="menu-item2 menu-item-type-post_type2 menu-item-object-page2 menu-item-has-children2 menu-item-'+n+'" style="margin-right:20px">',a+='<a href="'+i.link+'">'+i.label+"</a>",i.subs.length>0){a+='<ul class="sub-menu">';for(var o=0;o<i.subs.length;++o){var r=i.subs[o];a+='<li id="menu-item-"'+ ++n+' class="menu-item2 menu-item-type-post_type2 menu-item-object-page2 menu-item-'+n+'" style="margin-right:20px">',a+='<a style="color:white" href="'+r.link+'">'+r.label+"</a>",a+="</li>"}a+="</ul>"}a+="</li>"}return a+'</ul></div><div class="clear"></div><div id="magic-line"></div><div class="clear"></div>'}}],null&&n(a.prototype,null),l&&n(a,l),t}();function l(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"getHtml",value:function(){return'<div class="container">\n\t\t\t\t<div align=\'center\'>\n\t\t\t\t\t<br><br><br>\n\t\t\t\t\t<h4></h4>\n\t\t\t\t\t<br><br><br>\n\t\t\t\t</div>\n\t\t\t\t<br>\n\t\t\t\t<br>\n\t\t\t\t<div align="center">\n\t\t\t\t\t<img src="src/static/img/logo.png" alt="logo" width="221px" height="80px"  />\n\t\t\t\t\t<br>\n\t\t\t\t\t<img src="src/static/img/logo_2.png" alt="logo"width="373px" height="55px" />\n\t\t\t\t\t<br>\n\t\t\t\t\t<br>\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<br>\n\t\t\t\t<br>\n\t\t\t</div>\n\t\t\t<link rel="stylesheet" href="https://cdn.positus.global/production/resources/robbu/whatsapp-button/whatsapp-button.css">\n\t\t\t<a id="robbu-whatsapp-button" target="_blank" href="https://api.whatsapp.com/send?phone=5551995152432&text=Big%20Boys%20Store - Dúvidas">\n\t\t\t<div class="rwb-tooltip" style=\'color:white\'>Dúvidas?</div>\n\t\t\t<img src="https://cdn.positus.global/production/resources/robbu/whatsapp-button/whatsapp-icon.svg">\n\t\t\t</a>\n\t\t\t<br>            \n            <br>    \n            '}}],null&&l(e.prototype,null),n&&l(e,n),t}();function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"getHtml",value:function(){return document.getElementById("myAppMenu").innerHTML=a.getHtml(),document.getElementById("myAppFooter").innerHTML=i.getHtml(),IMask(document.getElementById("mobile"),{mask:[{mask:"(00) 0 0000-0000"}]}),""}}],null&&o(e.prototype,null),n&&o(e,n),t}();function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.params=e,document.getElementById("email").focus();var n=document.getElementById("email"),a=document.getElementById("mobile");a.addEventListener("blur",(function(t){document.getElementById("validation_mobile").style.display="none",""!=this.value&&16==this.value.length||(document.getElementById("validation_mobile").style.display="block")}),!0),n.addEventListener("blur",(function(t){document.getElementById("validation_email").style.display="none",""!=this.value&&this.value.indexOf("@")>0&&this.value.indexOf(".")>0||(document.getElementById("validation_email").style.display="block")}),!0),document.body.addEventListener("click",(function(t){switch(t.target.id){case"login":""!=n.value&&n.value.indexOf("@")>0&&n.value.indexOf(".")>0||(document.getElementById("validation_email").style.display="block",passed=!1,n.focus()),""!=a.value&&16==a.value.length||(document.getElementById("validation_mobile").style.display="block",passed=!1,a.focus());var e={email:n.value,mobile:a.value};document.getElementById("form_btn_login").style.pointerEvents="none",document.getElementById("login").style.backgroundColor="DarkRed",document.getElementById("loading").style.display="block",document.getElementById("mainPageNOK").style.display="none",function(t,e){var n=sessionStorage.getItem("mockServer");if(n)return new Promise((function(t,e){setTimeout((function(){var a=JSON.parse(n);1==a.payload?t({ok:!0,payload:a.obj}):e({ok:!1,msg:a.obj.message})}),500)}));var a=function(){var t="__API_indexPos",e=sessionStorage.getItem(t);null==e&&(e=0);var n=parseInt(e),a=[{api_host:"http://localhost",api_port:18524}];return++n>=a.length&&(n=0),sessionStorage.setItem(t,n),a[n]}(),l=JSON.stringify(e);return new Promise((function(t,e){fetch(a.api_host+":"+a.api_port+"/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:l}).then((function(n){400===n.status?n.json().then((function(t){e({ok:!1,msg:t.message})})):!0===n.ok?n.json().then((function(e){t({ok:!0,payload:e})})):n.json().then((function(e){t({ok:!1,msg:e.message})}))})).catch((function(t){e({ok:!1,msg:"Ops, aconteceu um erro!"})}))}))}(0,e).then((function(t){document.getElementById("loading").style.display="none",window.location.href="/"})).catch((function(t){document.getElementById("loading").style.display="none",document.getElementById("form_btn_login").style.pointerEvents="all",document.getElementById("login").style.backgroundColor="red",document.getElementById("mainPageNOK").style.display="block",document.getElementById("failMsg").innerHTML='<span style="color:gray">Falha<br></span> '+t.msg}))}}))}var e,n;return e=t,(n=[{key:"getHtml",value:function(){return r.getHtml()}}])&&s(e.prototype,n),t}();function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var m=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.url=e}return e=t,(n=[{key:"getHtml",value:function(){var t=this.url,e={id:null},n=t.split("/");return t="/"+n[1],n.length>=2&&(e.id=n[2]),"".concat(new u(e).getHtml())}}])&&c(e.prototype,n),a&&c(e,a),t;var e,n,a}(),d=function(){document.querySelector("#myApp").innerHTML=new m(window.location.pathname).getHtml()};window.addEventListener("popstate",d),document.addEventListener("DOMContentLoaded",(function(){document.body.addEventListener("click",(function(t){var e;t.target.matches("[data-link]")&&(t.preventDefault(),e=t.target.href,history.pushState(null,null,e),d())})),d()}))})();
//# sourceMappingURL=Login.js.map